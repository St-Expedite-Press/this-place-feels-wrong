<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="description" content="Contact St. Expedite Press." />
<meta name="theme-color" content="#050807" />
<meta name="color-scheme" content="dark" />
<meta property="og:site_name" content="St. Expedite Press" />
<meta property="og:type" content="website" />
<meta property="og:title" content="Contact &mdash; St. Expedite Press" />
<meta property="og:description" content="Contact St. Expedite Press." />
<meta name="robots" content="index,follow,max-snippet:-1,max-image-preview:large,max-video-preview:-1" />
<meta property="og:url" content="https://stexpedite.press/contact.html" />
<meta property="og:image" content="https://stexpedite.press/assets/img/crow_glitch_text_still.png" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="Contact &mdash; St. Expedite Press" />
<meta name="twitter:description" content="Contact St. Expedite Press." />
<meta name="twitter:image" content="https://stexpedite.press/assets/img/crow_glitch_text_still.png" />
<link rel="canonical" href="https://stexpedite.press/contact.html" />
<title>Contact &mdash; St. Expedite Press</title>

<link rel="icon" href="assets/img/favicon.svg" type="image/svg+xml" />
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600&family=Cormorant+Garamond:wght@300;400;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="assets/css/hero-bar.css" />
<link rel="stylesheet" href="assets/css/footer.css" />

  <link rel="stylesheet" href="assets/css/base.css" />
  <link rel="stylesheet" href="assets/css/effects.css" />
  <link rel="stylesheet" href="assets/css/a11y.css" />
  <link rel="stylesheet" href="assets/css/content-shell.css" />

<style>
/* Focus parity: match hover glow when navigating by keyboard */
.header-nav a:focus-visible {
  border-color: rgba(42,255,138,0.48);
  background: rgba(42,255,138,0.08);
  filter: brightness(1.2) contrast(1.05);
  text-shadow:
    0 0 10px var(--green-hot-1),
    0 0 24px var(--green-hot-2);
}

/* ======================================================================
   CONTACT CARD
   ====================================================================== */
.contact-card {
  max-width: 720px;
  margin: 0 auto;
  background: rgba(0,0,0,0.75);
  border-radius: 22px;
  border: 1px solid rgba(42,255,138,0.28);
  padding: 1.8rem 2rem 2rem;
  box-shadow:
    0 0 18px rgba(0,0,0,0.9),
    0 0 26px var(--green-3);
}

.contact-intro {
  text-align: center;
  margin-bottom: 1.6rem;
  font-size: 1.05rem;
  line-height: 1.5;
  opacity: .92;
}

.contact-intro__meta {
  margin-top: 0.55rem;
  font-size: 0.9rem;
  letter-spacing: .06em;
  opacity: .86;
}

/* ======================================================================
   FORM ELEMENTS
   ====================================================================== */
.form-group {
  display: flex;
  flex-direction: column;
  gap: .4rem;
  margin-bottom: 1.3rem;
}

label {
  font-family: "Cinzel", serif;
  font-size: .85rem;
  letter-spacing: .14em;
  text-transform: uppercase;
  opacity: .9;
}

select,
textarea,
input {
  background: rgba(0,0,0,0.85);
  border: 1px solid var(--green-2);
  border-radius: 14px;
  color: var(--green-base);
  font-family: "Cormorant Garamond", serif;
  font-size: 1rem;
  padding: .7rem .9rem;
  resize: vertical;
}

select {
  appearance: none;
}

textarea {
  min-height: 160px;
}

select:focus,
textarea:focus,
input:focus {
  outline: none;
  border-color: var(--green-hot-2);
  box-shadow: 0 0 14px var(--green-hot-3);
}

/* ======================================================================
   UPDATES (SUBSTACK)
   ====================================================================== */
.contact-updates {
  margin-top: 1.6rem;
  padding-top: 1.4rem;
  border-top: 1px solid rgba(42,255,138,0.14);
}

.contact-updates__row {
  display: flex;
  gap: 0.8rem;
  align-items: center;
  flex-wrap: wrap;
  justify-content: center;
}

.contact-updates__row input {
  flex: 1 1 240px;
  min-width: min(320px, 100%);
}

/* ======================================================================
   SUBMIT
   ====================================================================== */
.form-actions {
  text-align: center;
  margin-top: 1.8rem;
}

.form-helper {
  margin-top: 0.8rem;
  font-size: 0.95rem;
  line-height: 1.35;
  opacity: .92;
}

.form-helper__actions {
  margin-top: 0.55rem;
  display: flex;
  gap: 0.55rem;
  justify-content: center;
  flex-wrap: wrap;
}

.form-helper__link,
.form-helper__btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.35rem;
  padding: 0.5rem 1rem;
  border-radius: 999px;
  border: 1px solid rgba(42,255,138,0.28);
  background: rgba(0,0,0,0.65);
  color: var(--green-base);
  text-decoration: none;
  font-family: "Cinzel", serif;
  letter-spacing: .14em;
  text-transform: uppercase;
  font-size: 0.75rem;
  cursor: pointer;
}

.form-helper__link:hover,
.form-helper__btn:hover {
  border-color: var(--green-hot-2);
  box-shadow: 0 0 14px var(--green-2);
}

.form-helper__link:focus-visible,
.form-helper__btn:focus-visible {
  border-color: var(--green-hot-2);
  box-shadow: 0 0 14px var(--green-2);
}

.submit-btn {
  font-family: "Cinzel", serif;
  letter-spacing: .16em;
  text-transform: uppercase;
  padding: .7rem 2rem;
  border-radius: 999px;
  border: 1px solid var(--green-hot-2);
  background: rgba(42,255,138,0.12);
  color: var(--green-base);
  cursor: pointer;
}

.submit-btn:hover {
  box-shadow: 0 0 18px var(--green-hot-2);
}

.submit-btn:focus-visible {
  box-shadow: 0 0 18px var(--green-hot-2);
}

/* ======================================================================
   FOOTER
   ====================================================================== */
.page-footer {
  margin-top: 4vh;
  text-align: center;
  font-size: .8rem;
  letter-spacing: .12em;
  opacity: .7;
}
</style>
</head>

<body>

<a class="skip-link" href="#main">Skip to content</a>

<div class="hero-bar" role="navigation" aria-label="Social media">
  <div class="hero-bar__inner">
    <a class="hero-bar__icon" href="https://x.com/stex_press" target="_blank" rel="noopener noreferrer" aria-label="X" title="X">
      <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false" fill="none" stroke="currentColor" stroke-width="2.2" stroke-linecap="round">
        <path d="M6 6l12 12M18 6L6 18" />
      </svg>
    </a>
    <a class="hero-bar__icon" href="https://ecoamericana.substack.com/s/ephemera" target="_blank" rel="noopener noreferrer" aria-label="Substack" title="Substack">
      <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round">
        <path d="M7 7h10M7 12h10M7 17h10" />
      </svg>
    </a>
    <a class="hero-bar__icon" href="https://t.me/joinchat/vvALfKUrw0k5NjYx" target="_blank" rel="noopener noreferrer" aria-label="Telegram" title="Telegram">
      <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false" fill="none" stroke="currentColor" stroke-width="2" stroke-linejoin="round" stroke-linecap="round">
        <path d="M21 5 3 12l7 2 2 7 9-16Z" />
        <path d="M10 14 21 5" />
      </svg>
    </a>
    <a class="hero-bar__icon" href="https://github.com/orgs/St-Expedite-Press/repositories" target="_blank" rel="noopener noreferrer" aria-label="GitHub" title="GitHub">
      <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/>
      </svg>
    </a>
  </div>
</div>

<div class="texture--grain"></div>
<div class="cursor-glow"></div>

<main id="main" class="page">

<header class="site-header">
  <div class="site-brand">
    <div class="site-eyebrow">ST. EXPEDITE PRESS</div>
    <h1 class="site-title">CONTACT</h1>
    <div class="site-subtitle">Inquiries & Correspondence</div>
    <div class="site-header-divider"></div>
  </div>
  <nav class="header-nav">
    <a href="index.html">Portal</a>
    <a href="books.html">Books</a>
    <a href="gallery.html">Merch</a>
    <a href="under-construction.html">Lab</a>
    <a href="mission.html">Mission</a>
    <a href="contact.html" aria-current="page">Contact</a>
  </nav>
</header>

<section class="contact-card">

  <div class="contact-intro">
    Correspondence is reviewed deliberately.<br>
    Please select the nature of your inquiry and be precise.
    <div class="contact-intro__meta">Editorial and rights correspondence is typically answered within 2-5 business days.</div>
  </div>

  <form class="contact-form" id="contact-form" action="#" method="post" novalidate>

    <input type="text" id="website" name="website" tabindex="-1" autocomplete="off" aria-hidden="true" style="position:absolute;left:-9999px;opacity:0;height:0;width:0;">
    
    <div class="form-group">
      <label for="reason">Reason for Contact</label>
      <select id="reason" name="reason" required>
        <option value="">Select one&hellip;</option>
        <option>Book Orders & Fulfillment</option>
        <option>Merch / Print Inquiries</option>
        <option>Lab</option>
        <option>Submissions & Editorial</option>
        <option>Rights & Permissions</option>
        <option>Wholesale / Stockists</option>
        <option>Press & Media</option>
        <option>General Correspondence</option>
      </select>
    </div>

    <div class="form-group">
      <label for="email">Your Email</label>
      <input id="email" name="email" type="email" required />
    </div>

    <div class="form-group">
      <label for="message">Message</label>
      <textarea id="message" name="message" required></textarea>
    </div>

    <div class="form-actions">
      <button class="submit-btn" type="submit">Send</button>
      <div class="form-helper" id="contact-helper" aria-live="polite" hidden>
        <div id="contact-helper-text"></div>
        <div class="form-helper__actions">
          <a class="form-helper__link" id="contact-mailto-fallback" href="mailto:editor@stexpedite.press">Open Email</a>
          <button class="form-helper__btn" id="contact-copy" type="button">Copy</button>
        </div>
      </div>
    </div>

  </form>

  <div class="form-group contact-updates">
    <label for="contact-updates-email">Updates</label>
    <div class="contact-updates__row">
      <input id="contact-updates-email" name="updates_email" type="email" autocomplete="email" placeholder="your@email.com" aria-label="Email for updates">
      <button class="submit-btn" id="contact-updates-submit" type="button">Get updates</button>
    </div>
    <div class="form-helper" id="contact-updates-helper" aria-live="polite" hidden>
      <div id="contact-updates-helper-text"></div>
      <div class="form-helper__actions">
        <a class="form-helper__link" id="contact-updates-open" href="https://ecoamericana.substack.com/s/ephemera">Continue to Substack</a>
        <button class="form-helper__btn" id="contact-updates-copy" type="button">Copy</button>
        <button class="form-helper__btn" id="contact-updates-dismiss" type="button">Dismiss</button>
      </div>
    </div>
  </div>

</section>

<footer class="sep-footer">
  <p class="sep-footer__coords">29.9511&deg; N &mdash; 90.0715&deg; W</p>
  <p class="sep-footer__lede">...in the key of Night.</p>
  <div class="sep-footer__divider">&#9651; &#10013; &#9651;</div>
  <div class="sep-footer__links">
    <a href="services.html">Services</a> // <a href="submit.html">Submission</a> // <a href="contact.html">Contact</a>
  </div>
</footer>

</main>

  <script src="assets/js/cursor-glow.js"></script>
  <script>
  (function() {
    const form = document.getElementById('contact-form');
    const helper = document.getElementById('contact-helper');
    const helperText = document.getElementById('contact-helper-text');
    const fallbackLink = document.getElementById('contact-mailto-fallback');
    const copyBtn = document.getElementById('contact-copy');

    if (!form || !helper || !helperText || !fallbackLink || !copyBtn) return;

    let lastCopyText = '';

    async function copyText(text) {
      try {
        await navigator.clipboard.writeText(text);
        return true;
      } catch {
        try {
          window.prompt('Copy this message:', text);
        } catch {}
        return false;
      }
    }

    form?.addEventListener('submit', (e) => {
      e.preventDefault();

      const reason = String(document.getElementById('reason')?.value ?? '').trim();
      const email = String(document.getElementById('email')?.value ?? '').trim();
      const message = String(document.getElementById('message')?.value ?? '').trim();
      const website = String(document.getElementById('website')?.value ?? '').trim();

      if (!email || !message) {
        helper.hidden = false;
        helperText.textContent = 'Add your email and message, then send again.';
        fallbackLink.setAttribute('href', 'mailto:editor@stexpedite.press');
        lastCopyText = '';
        return;
      }

      const subject = `St. Expedite Press \u2014 Contact${reason ? ` (${reason})` : ''}`;
      const lines = [
        'Contact form submission',
        '',
        reason ? `Reason: ${reason}` : '',
        `From: ${email}`,
        '',
        message,
      ].filter(Boolean);

      const body = lines.join('\n');
      const mailtoUrl =
        `mailto:editor@stexpedite.press?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;

      const payload = { reason, email, message, website };

      helper.hidden = false;
      helperText.textContent = 'Sending...';
      fallbackLink.setAttribute('href', mailtoUrl);
      lastCopyText = `To: editor@stexpedite.press\nSubject: ${subject}\n\n${body}`;

      fetch('/api/contact', {
        method: 'POST',
        headers: { 'content-type': 'application/json' },
        body: JSON.stringify(payload),
      })
        .then(async (res) => {
          if (!res.ok) throw new Error(`HTTP ${res.status}`);
          return res.json().catch(() => ({}));
        })
        .then((data) => {
          const id = String(data?.id ?? '').trim();
          helper.hidden = false;
          helperText.textContent = id
            ? `Thanks \u2014 your message was received. You'll get a confirmation email shortly. Reference: ${id}`
            : "Thanks \u2014 your message was received. You'll get a confirmation email shortly.";
        })
        .catch(() => {
          helper.hidden = false;
          helperText.textContent = 'Could not send automatically. Opening your email client...';
          window.location.href = mailtoUrl;
        });

    });

    copyBtn.addEventListener('click', async () => {
      if (!lastCopyText) return;
      const ok = await copyText(lastCopyText);
      helper.hidden = false;
      helperText.textContent = ok ? 'Copied. Paste into your email client and send to editor@stexpedite.press.' : 'Copy dialog opened.';
    });
  })();

  (function() {
    const emailInput = document.getElementById('contact-updates-email');
    const submitBtn = document.getElementById('contact-updates-submit');
    const helper = document.getElementById('contact-updates-helper');
    const helperText = document.getElementById('contact-updates-helper-text');
    const openLink = document.getElementById('contact-updates-open');
    const copyBtn = document.getElementById('contact-updates-copy');
    const dismissBtn = document.getElementById('contact-updates-dismiss');

    if (!emailInput || !submitBtn || !helper || !helperText || !openLink || !copyBtn || !dismissBtn) return;

    let lastCopyText = '';

    async function copyText(text) {
      try {
        await navigator.clipboard.writeText(text);
        return true;
      } catch {
        try {
          window.prompt('Copy this link:', text);
        } catch {}
        return false;
      }
    }

    const buildUrl = (email) =>
      `https://ecoamericana.substack.com/s/ephemera`;

    submitBtn.addEventListener('click', () => {
      const fallbackEmail = String(document.getElementById('email')?.value ?? '').trim();
      const email = String(emailInput.value ?? '').trim() || fallbackEmail;

      if (!email) {
        helper.hidden = false;
        helperText.textContent = 'Enter your email, then try again.';
        openLink.setAttribute('href', 'https://ecoamericana.substack.com/s/ephemera');
        lastCopyText = '';
        return;
      }

      const url = buildUrl(email);
      helper.hidden = false;
      helperText.textContent = 'Saving your email...';
      openLink.setAttribute('href', url);
      lastCopyText = url;

      fetch('/api/updates', {
        method: 'POST',
        headers: { 'content-type': 'application/json' },
        body: JSON.stringify({ email, source: 'contact' }),
      })
        .then(async (res) => {
          if (!res.ok) throw new Error(`HTTP ${res.status}`);
          const data = await res.json().catch(() => ({}));
          const alreadySignedUp = Boolean(data?.alreadySignedUp);
          helper.hidden = false;
          helperText.textContent = alreadySignedUp
            ? 'Thanks. We already have your email on our updates list. Continue to Substack?'
            : 'Thanks for your email. Would you also like to continue to our Substack page?';
        })
        .catch(() => {
          helper.hidden = false;
          helperText.textContent =
            'Could not save your signup right now. You can still join Substack below.';
      });
    });

    copyBtn.addEventListener('click', async () => {
      if (!lastCopyText) return;
      const ok = await copyText(lastCopyText);
      helper.hidden = false;
      helperText.textContent = ok ? 'Copied Substack link.' : 'Copy dialog opened.';
    });

    dismissBtn.addEventListener('click', () => {
      helper.hidden = true;
    });
  })();
  </script>

</body>
</html>
